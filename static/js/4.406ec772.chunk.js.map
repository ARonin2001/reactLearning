{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/Users.module.css","components/Users/Pagination/Pagination.module.css","components/Users/User/User.module.css","components/Users/Pagination/Pagination.jsx","assets/img/ava.jpg","components/Users/User/User.jsx","components/Users/Users.jsx","redux/reselectors/reselectors.js","components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Pagination","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","useState","count","setCount","prev","className","styles","pagination","onClick","map","page","index","e","onPageChanged","currentPage","selected_page","last_page","target","innerHTML","User","users","followingInProgress","follow","unFollow","u","item","left","to","id","ava","src","photos","small","user_ava","alt","user_info","fullName","name","status","user_location","country_container","country","country_name","city_container","city","city_name","right","btn_follow","followed","btn","btn_unFollow","disabled","some","btn_Follow","Users","container","getAllUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","getUsersThunkCreator","this","React","Component","connect","setCurrentPage","toggleIsFollowingProgress"],"mappings":"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","file":"static/js/4.406ec772.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Users_container__1AmMY\",\"item\":\"Users_item__1mQ91\",\"left\":\"Users_left__2-U3P\",\"ava\":\"Users_ava__1haCP\",\"fullName\":\"Users_fullName__Xxnmy\",\"country\":\"Users_country__1JW-s\",\"city\":\"Users_city__3aKI4\",\"status\":\"Users_status__hTZvX\",\"user_location\":\"Users_user_location__2PkMj\",\"btn\":\"Users_btn__2aU5v\",\"btn_unFollow\":\"Users_btn_unFollow__1j3Qq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1M4Mw\",\"selected_page\":\"Pagination_selected_page__3pczE\",\"prev\":\"Pagination_prev__22H47\",\"next\":\"Pagination_next__uTKCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"User_item__1vHmS\",\"left\":\"User_left__iJ67L\",\"ava\":\"User_ava__2W1JM\",\"fullName\":\"User_fullName__15zwY\",\"country\":\"User_country__1XpuH\",\"city\":\"User_city__2TLC5\",\"status\":\"User_status__2x5t1\",\"user_location\":\"User_user_location__2QzxF\",\"btn\":\"User_btn__10IW6\",\"btn_unFollow\":\"User_btn_unFollow__1Os6S\"};","import React, {useState} from 'react';\r\nimport styles from './Pagination.module.css';\r\n\r\nconst  Pagination = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for(let i = 1; i <= pagesCount; i++) \r\n        pages.push(i);\r\n\r\n    const [count, setCount] = useState(9);\r\n\r\n    let prev = () => {\r\n        if(count !== 9)\r\n            return count - 10;\r\n        return count;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pagination}>\r\n            <button className={styles.prev} onClick={() => setCount(prev)}/>\r\n            {\r\n             pages.map((page, index) => {\r\n                 if(index <= count && index >= count-9) {\r\n                     return (\r\n                        <span onClick={(e) => props.onPageChanged(page)}\r\n                                    className={\r\n                                        props.currentPage === page && styles.selected_page\r\n                                    }>{page}</span>\r\n                     )\r\n                 }\r\n             })   \r\n                // pages.map(page => {\r\n                //     return (\r\n                //         <span onClick={(e) => props.onPageChanged(page)}\r\n                //             className={\r\n                //                 props.currentPage === page && styles.selected_page\r\n                //             }>{page}</span>\r\n                //     )\r\n                // })\r\n            }\r\n            <span className={props.currentPage == pages[pages.length-1] && styles.last_page + \" \" + styles.selected_page} onClick={(e) => props.onPageChanged(e.target.innerHTML)}>{pages[pages.length - 1]}</span>\r\n            <button className={styles.next} onClick={() => setCount(count + 10)}/>\r\n        </div>\r\n    ) \r\n}\r\n\r\nexport default Pagination;\r\n","export default __webpack_public_path__ + \"static/media/ava.eea3a6a8.jpg\";","import React from 'react';\r\nimport styles from './User.module.css';\r\nimport user_ava from '../../../assets/img/ava.jpg';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nlet User = ({users, followingInProgress, follow, unFollow}) => {\r\n    return (\r\n        users.map(u => <div className={styles.item} key={u.id}>\r\n                <div className={styles.left}>\r\n                    <NavLink to={'/profile/' + u.id} className={styles.ava}>\r\n                        <img src={u.photos.small !== null ? u.photos.small : user_ava} alt=\"ava\" />\r\n                    </NavLink>\r\n                    <div className={styles.user_info}>\r\n                        <h3 className={styles.fullName}>{u.name}</h3>\r\n                        <span className={styles.status}>{u.status}</span>\r\n                        <div className={styles.user_location}>\r\n                            <div className={styles.country_container}>\r\n                                <span className={styles.country}>\r\n                                    Страна: \r\n                                </span>\r\n                                <span className={styles.country_name}>{\"u.location.country\"}</span>\r\n                            </div>\r\n                            \r\n                            <div className={styles.city_container}>\r\n                                <span className={styles.city}>\r\n                                    Город: \r\n                                </span>\r\n                                <span className={styles.city_name}>{\"u.location.city\"}</span>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.right}>\r\n                    <div className={styles.btn_follow}>\r\n                        {\r\n                            u.followed \r\n                            ? <button className={styles.btn + \" \" + styles.btn_unFollow }\r\n                                disabled={followingInProgress.some(id => id === u.id)} \r\n                                onClick={ () => {unFollow(u.id)}}>unFollow</button>\r\n                            : <button className={styles.btn + \" \" + styles.btn_Follow} \r\n                                disabled={followingInProgress.some(id => id === u.id)}\r\n                                onClick={ () => {follow(u.id)}}>Follow</button>\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>    \r\n            </div>            \r\n        )\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport Pagination from './Pagination/Pagination';\r\nimport User from './User/User';\r\n\r\nlet Users = props => {\r\n    return (\r\n        <div className={styles.users}>\r\n            <Pagination totalUsersCount={props.totalUsersCount}  \r\n                pageSize={props.pageSize}\r\n                onPageChanged={props.onPageChanged}\r\n                currentPage={props.currentPage} />\r\n                \r\n            <div className={styles.container}>\r\n                <User users={props.users} \r\n                    followingInProgress={props.followingInProgress} \r\n                    follow={props.follow} \r\n                    unFollow={props.unFollow} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Users;","export const getAllUsers = state => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = state => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = state => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = state => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = state => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = state => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unFollow, setCurrentPage, toggleIsFollowingProgress, getUsersThunkCreator } \r\nfrom \"../../redux/findUsersReducer\";\r\nimport Users from './Users';\r\nimport Preloader from '../common/preloader/preloader';\r\nimport { getAllUsers, getPageSize, getCurrentPage, getFollowingInProgress, getIsFetching, getTotalUsersCount } from '../../redux/reselectors/reselectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n    }\r\n    \r\n    onPageChanged = page => {\r\n        this.props.getUsersThunkCreator(page, this.props.pageSize);\r\n\r\n    }\r\n\r\n    render() {\r\n        return <> \r\n            {this.props.isFetching ?  <Preloader /> : null }\r\n                <Users onPageChanged={this.onPageChanged}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unFollow={this.props.unFollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n\r\n                />\r\n            </>\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getAllUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userID) => {\r\n//             dispatch(followAC(userID));\r\n//         },\r\n//         unFollow: (userID) => {\r\n//             dispatch(unFollowAC(userID));\r\n//         },\r\n//         setCurrentPage: pageNumber => {\r\n//             dispatch(setCurrentPageAC(pageNumber));\r\n//         },\r\n//         setTotalUsersCount: count => {\r\n//             dispatch(setTotalUsersCountAC(count));\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         toggleIsFetching: isFetching => {\r\n//             dispatch(setIsFetching(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    setCurrentPage,\r\n    toggleIsFollowingProgress,\r\n    getUsersThunkCreator\r\n})(UsersContainer); "],"sourceRoot":""}